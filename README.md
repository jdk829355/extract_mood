# moods 작업 서버
1. 배경화면 추천 로직
2. 공간 분위기 추출(현재 주석 처리)

## 1. 배경화면 추천 로직
사용자가 공부를 하는 중에 타이머에 배경화면을 띄울 수 있는데, 이 배경화면은 사용자가 작성한 공부 제목을 바탕으로 정해진다.

만약 사용자가 "프로그래밍 연습"이라는 공부 제목을 정했다면 배경화면은 프로그래밍 관련 배경화면으로 추천된다.

![img](./어두운%20이미지.png)

1. db에는 image 경로와 카테고리가 저장되어있다.
2. 입력(제목)은 zero_shot_classification을 거쳐서 각 카테고리 중 하나로 분류된다.
3. 해당 카테고리의 점수가 너무 낮을 때는 포괄적인 이미지 중 하나를 응답한다.
4. 정상적인 경우 해당 카테고리의 사진 중 랜덤으로 하나를 골라 응답한다.

## 2. 공간 분위기 추출
1. 사용자 입력으로 공간 id가 들어온다.
2. 그 id에 해당하는 공간의 사진 목록을 google place api로 불러온다.
3. google place api로 사진 목록의 사진을 다 다운받는다.
4. 사진을 clip모델을 이용해서 사전 설정한 분위기 키워드로 분류한다.
5. 공간과 분위기는 m:n관계이므로 중간 테이블에 해당 관계를 저장한다.